<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Profile & Settings
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Profile & Settings</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- Profile Edit Section -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Edit Profile</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-label position="stacked">Email</ion-label>
          <ion-input type="email" [value]="user.email" readonly></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="stacked">First Name</ion-label>
          <ion-input type="text" [(ngModel)]="user.firstName" name="firstName"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="stacked">Last Name</ion-label>
          <ion-input type="text" [(ngModel)]="user.lastName" name="lastName"></ion-input>
        </ion-item>
      </ion-list>
      <ion-button expand="block" (click)="saveProfile()">
        <ion-icon name="save" slot="start"></ion-icon>
        Save Profile
      </ion-button>
    </ion-card-content>
  </ion-card>

  <!-- N1ne Token Management Section -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>N1ne Tokens</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let token of tokens">
          <ion-label>
            <h2>{{ token.name }}</h2>
            <p>Status: {{ token.revoked ? 'Revoked' : (token.enabled ? 'Enabled' : 'Disabled') }}</p>
          </ion-label>
          <ion-button fill="clear" (click)="enableToken(token)" *ngIf="!token.enabled && !token.revoked" color="success">
            <ion-icon slot="icon-only" name="power"></ion-icon>
          </ion-button>
          <ion-button fill="clear" (click)="revokeToken(token)" *ngIf="token.enabled" color="warning">
            <ion-icon slot="icon-only" name="power"></ion-icon>
          </ion-button>
          <ion-button fill="clear" (click)="deleteToken(token.id)" color="danger">
            <ion-icon slot="icon-only" name="trash"></ion-icon>
          </ion-button>
        </ion-item>
      </ion-list>

      <ion-item>
        <ion-label position="floating">New Token Name</ion-label>
        <ion-input type="text" [(ngModel)]="newTokenName" name="newTokenName"></ion-input>
      </ion-item>
      <ion-button expand="block" (click)="createToken()" [disabled]="!newTokenName">
        <ion-icon name="create" slot="start"></ion-icon>
        Create New Token
      </ion-button>
    </ion-card-content>
  </ion-card>

</ion-content>